syntax = "proto3";
package services.comunidad;

option java_package = "com.github.erodriguezg.grpcjavalab.api.proto";
option java_multiple_files = true;
option java_outer_classname = "ComunidadServiceProto";

import "google/protobuf/timestamp.proto";

// DTO usado como filtro
message FiltroBuscarComunidad {
  string id_comunidad = 1;
  int32 id_comunidad_tipo = 2;
  int32 id_comuna = 3;
  string nombre = 4;
  string direccion = 5;
  int32 page_size = 6;
  int32 page_number = 7;
}

// Entidad Comunidad
message Comunidad {
  string id_comunidad = 1;
  int32 comunidad_tipo_id = 2;
  int32 comuna_id = 3;
  string nombre = 4;
  string direccion = 5;
  google.protobuf.Timestamp fecha_creacion = 6;
  google.protobuf.Timestamp fecha_modificacion = 7;
}

// PÃ¡gina de comunidades
message ComunidadPage {
  repeated Comunidad items = 1;
  int32 page_number = 2;
  int32 page_size = 3;
  int32 total_pages = 4;
  int64 total_elements = 5;
}

// Servicio
service ComunidadService {
  rpc BuscarComunidades(FiltroBuscarComunidad) returns (ComunidadPage);
}
